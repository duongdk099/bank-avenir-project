{
  "info": {
    "name": "Bank Project - Complete API Collection",
    "description": "Complete Postman collection for testing the Bank Project backend with all endpoints, authentication, and real-time features.\n\n**Quick Start:**\n1. Run: `npm run start:dev`\n2. Import this collection into Postman\n3. Set environment variable: `baseUrl` = `http://localhost:3000`\n4. Execute requests in order (Auth ‚Üí Accounts ‚Üí Orders ‚Üí Loans)\n5. JWT tokens are auto-saved to environment variables",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000",
      "type": "default"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "adminToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "accountId",
      "value": "",
      "type": "string"
    },
    {
      "key": "orderId",
      "value": "",
      "type": "string"
    },
    {
      "key": "securityId",
      "value": "",
      "type": "string"
    },
    {
      "key": "loanId",
      "value": "",
      "type": "string"
    },
    {
      "key": "conversationId",
      "value": "",
      "type": "string"
    },
    {
      "key": "notificationId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register Client User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('userId', jsonData.userId);",
                  "    pm.collectionVariables.set('confirmationToken', jsonData.confirmationToken);",
                  "    console.log('User ID saved:', jsonData.userId);",
                  "    console.log('Confirmation token saved:', jsonData.confirmationToken);",
                  "    console.log('üìß Email confirmation sent - check email or use next request');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"client@test.com\",\n  \"password\": \"Test123!@#\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"+33612345678\",\n  \"address\": \"123 Main St\",\n  \"city\": \"Paris\",\n  \"postalCode\": \"75001\",\n  \"country\": \"France\",\n  \"dateOfBirth\": \"1990-01-01\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            },
            "description": "Register a new client user. An email confirmation link will be sent to the provided email address. The confirmationToken is also returned in the response for testing purposes."
          },
          "response": []
        },
        {
          "name": "Confirm Email",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Email confirmed successfully', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.message).to.include('confirmed');",
                  "    console.log('‚úÖ Email confirmation successful');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/confirm/{{confirmationToken}}",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "confirm", "{{confirmationToken}}"]
            },
            "description": "Confirm user email with the token received during registration. The token is valid for 24 hours."
          },
          "response": []
        },
        {
          "name": "Register Admin User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('adminId', jsonData.userId);",
                  "    console.log('Admin ID saved:', jsonData.userId);",
                  "    console.log('‚ö†Ô∏è NOTE: Manually set role to ADMIN in database');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@test.com\",\n  \"password\": \"Admin123!@#\",\n  \"firstName\": \"Admin\",\n  \"lastName\": \"User\",\n  \"phone\": \"+33612345680\",\n  \"address\": \"789 Admin St\",\n  \"city\": \"Paris\",\n  \"postalCode\": \"75002\",\n  \"country\": \"France\",\n  \"dateOfBirth\": \"1985-03-20\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            }
          },
          "response": []
        },
        {
          "name": "Login Client",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', jsonData.accessToken);",
                  "    console.log('Access token saved');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"client@test.com\",\n  \"password\": \"Test123!@#\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            }
          },
          "response": []
        },
        {
          "name": "Login Admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('adminToken', jsonData.accessToken);",
                  "    console.log('Admin token saved');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@test.com\",\n  \"password\": \"Admin123!@#\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Accounts",
      "item": [
        {
          "name": "Open Checking Account",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('accountId', jsonData.accountId);",
                  "    console.log('Account ID saved:', jsonData.accountId);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"accountType\": \"CHECKING\",\n  \"initialDeposit\": 1000\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/accounts/open",
              "host": ["{{baseUrl}}"],
              "path": ["accounts", "open"]
            }
          },
          "response": []
        },
        {
          "name": "Open Savings Account",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"accountType\": \"SAVINGS\",\n  \"initialDeposit\": 5000\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/accounts/open",
              "host": ["{{baseUrl}}"],
              "path": ["accounts", "open"]
            }
          },
          "response": []
        },
        {
          "name": "Open Investment Account",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"accountType\": \"INVESTMENT\",\n  \"initialDeposit\": 10000\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/accounts/open",
              "host": ["{{baseUrl}}"],
              "path": ["accounts", "open"]
            }
          },
          "response": []
        },
        {
          "name": "Get Account by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/accounts/{{accountId}}",
              "host": ["{{baseUrl}}"],
              "path": ["accounts", "{{accountId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get User Accounts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/accounts/user/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["accounts", "user", "{{userId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Calculate Interest",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/accounts/interest/calculate",
              "host": ["{{baseUrl}}"],
              "path": ["accounts", "interest", "calculate"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Admin - Stock Management",
      "item": [
        {
          "name": "Create Stock",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('securityId', jsonData.stockId);",
                  "    console.log('Security ID saved:', jsonData.stockId);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"symbol\": \"AAPL\",\n  \"name\": \"Apple Inc.\",\n  \"type\": \"STOCK\",\n  \"exchange\": \"NASDAQ\",\n  \"currentPrice\": 150.50,\n  \"currency\": \"USD\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/stocks",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "stocks"]
            }
          },
          "response": []
        },
        {
          "name": "Update Stock Availability",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"isAvailable\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/stocks/AAPL/availability",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "stocks", "AAPL", "availability"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Stock",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/stocks/AAPL",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "stocks", "AAPL"]
            }
          },
          "response": []
        },
        {
          "name": "List All Securities",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/securities",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "securities"]
            }
          },
          "response": []
        },
        {
          "name": "Update Security Price",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"price\": 155.75\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/securities/{{securityId}}/price",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "securities", "{{securityId}}", "price"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Admin - Account Management",
      "item": [
        {
          "name": "Create Account for Client",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"accountType\": \"CHECKING\",\n  \"initialDeposit\": 2000,\n  \"name\": \"Business Account\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/accounts/create",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "accounts", "create"]
            }
          },
          "response": []
        },
        {
          "name": "Rename Account",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"newName\": \"Primary Checking\",\n  \"requestedBy\": \"{{adminId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/accounts/{{accountId}}/rename",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "accounts", "{{accountId}}", "rename"]
            }
          },
          "response": []
        },
        {
          "name": "Ban Account",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Suspicious activity detected\",\n  \"bannedBy\": \"{{adminId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/accounts/{{accountId}}/ban",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "accounts", "{{accountId}}", "ban"]
            }
          },
          "response": []
        },
        {
          "name": "Close Account",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Account closure requested\",\n  \"closedBy\": \"{{adminId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/accounts/{{accountId}}",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "accounts", "{{accountId}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Admin - Savings Rates",
      "item": [
        {
          "name": "Update Savings Rate",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"accountType\": \"SAVINGS\",\n  \"rate\": 0.025,\n  \"minBalance\": 1000,\n  \"effectiveDate\": \"2024-01-01T00:00:00.000Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/savings-rate",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "savings-rate"]
            }
          },
          "response": []
        },
        {
          "name": "Get Savings Rates",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/savings-rates",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "savings-rates"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Admin - User Management",
      "item": [
        {
          "name": "List All Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/users",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "users"]
            }
          },
          "response": []
        },
        {
          "name": "Update User Role",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"role\": \"MANAGER\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/users/{{userId}}/role",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "users", "{{userId}}", "role"]
            }
          },
          "response": []
        },
        {
          "name": "Get Dashboard Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/dashboard",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "dashboard"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Orders & Trading",
      "item": [
        {
          "name": "Place Buy Order",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('orderId', jsonData.orderId);",
                  "    console.log('Order ID saved:', jsonData.orderId);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"accountId\": \"{{accountId}}\",\n  \"securityId\": \"{{securityId}}\",\n  \"type\": \"BUY\",\n  \"quantity\": 10,\n  \"price\": 155\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/orders",
              "host": ["{{baseUrl}}"],
              "path": ["orders"]
            }
          },
          "response": []
        },
        {
          "name": "Get Order by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/orders/{{orderId}}",
              "host": ["{{baseUrl}}"],
              "path": ["orders", "{{orderId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get User Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/orders/user/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["orders", "user", "{{userId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get Order Book",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/orders/security/{{securityId}}/book",
              "host": ["{{baseUrl}}"],
              "path": ["orders", "security", "{{securityId}}", "book"]
            }
          },
          "response": []
        },
        {
          "name": "Get Account Trades",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/orders/account/{{accountId}}/trades",
              "host": ["{{baseUrl}}"],
              "path": ["orders", "account", "{{accountId}}", "trades"]
            }
          },
          "response": []
        },
        {
          "name": "Cancel Order",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"reason\": \"Changed my mind\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/orders/{{orderId}}",
              "host": ["{{baseUrl}}"],
              "path": ["orders", "{{orderId}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Loans",
      "item": [
        {
          "name": "Grant Loan",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('loanId', jsonData.loanId);",
                  "    console.log('Loan ID saved:', jsonData.loanId);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"accountId\": \"{{accountId}}\",\n  \"principal\": 50000,\n  \"annualRate\": 0.05,\n  \"termMonths\": 240,\n  \"insuranceRate\": 0.003\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/loans/grant",
              "host": ["{{baseUrl}}"],
              "path": ["loans", "grant"]
            }
          },
          "response": []
        },
        {
          "name": "Get Loan Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/loans/{{loanId}}",
              "host": ["{{baseUrl}}"],
              "path": ["loans", "{{loanId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get Amortization Schedule",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/loans/{{loanId}}/schedule",
              "host": ["{{baseUrl}}"],
              "path": ["loans", "{{loanId}}", "schedule"]
            }
          },
          "response": []
        },
        {
          "name": "Get User Loans",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/loans/user/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["loans", "user", "{{userId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Calculate Loan Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"principal\": 100000,\n  \"annualRate\": 0.04,\n  \"termMonths\": 360,\n  \"insuranceRate\": 0.003\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/loans/{{loanId}}/calculate-payment",
              "host": ["{{baseUrl}}"],
              "path": ["loans", "{{loanId}}", "calculate-payment"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Messages",
      "item": [
        {
          "name": "Get Conversations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/messages/conversations?userId={{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["messages", "conversations"],
              "query": [
                {
                  "key": "userId",
                  "value": "{{userId}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Conversation Messages",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/messages/conversations/{{conversationId}}?limit=50",
              "host": ["{{baseUrl}}"],
              "path": ["messages", "conversations", "{{conversationId}}"],
              "query": [
                {
                  "key": "limit",
                  "value": "50"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Unread Message Count",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/messages/unread?userId={{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["messages", "unread"],
              "query": [
                {
                  "key": "userId",
                  "value": "{{userId}}"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Notifications",
      "item": [
        {
          "name": "Get Notifications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/notifications?userId={{userId}}&unreadOnly=false",
              "host": ["{{baseUrl}}"],
              "path": ["notifications"],
              "query": [
                {
                  "key": "userId",
                  "value": "{{userId}}"
                },
                {
                  "key": "unreadOnly",
                  "value": "false"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Unread Count",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/notifications/unread-count?userId={{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["notifications", "unread-count"],
              "query": [
                {
                  "key": "userId",
                  "value": "{{userId}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Mark Notification Read",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/notifications/{{notificationId}}/read",
              "host": ["{{baseUrl}}"],
              "path": ["notifications", "{{notificationId}}", "read"]
            }
          },
          "response": []
        },
        {
          "name": "Mark All Notifications Read",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/notifications/read-all",
              "host": ["{{baseUrl}}"],
              "path": ["notifications", "read-all"]
            }
          },
          "response": []
        }
      ]
    }
  ]
}
